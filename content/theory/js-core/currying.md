# Каррирование (Currying) в JavaScript

## Зачем это нужно

Каррирование — это техника функционального программирования, которая позволяет:
- делать функции более гибкими
- переиспользовать частично применённые функции
- писать более декларативный и читаемый код

На собеседованиях каррирование проверяет:
- понимание функций как значений
- работу с аргументами и замыканиями
- умение мыслить функционально

---

## Краткое определение

**Каррирование** — это преобразование функции с несколькими аргументами
в последовательность функций, каждая из которых принимает **один аргумент**.

```js
f(a, b, c) → f(a)(b)(c)
```

Ключевая идея:
> Вместо одного вызова с несколькими аргументами мы вызываем цепочку функций.

---

## Простейший пример

```js
function sum(a, b) {
  return a + b;
}
```

Каррированная версия:

```js
function currySum(a) {
  return function (b) {
    return a + b;
  };
}

currySum(2)(3); // 5
```

Здесь используется **замыкание**.

---

## Зачем это используют на практике

### Частичное применение

```js
const add = a => b => a + b;

const add10 = add(10);
add10(5); // 15
```

Это удобно, когда:
- часть аргументов известна заранее
- функция используется много раз

---

## Каррирование vs частичное применение

Важно различать:

- **Каррирование** — всегда 1 аргумент → функция
- **Частичное применение** — фиксируем часть аргументов

```js
// частичное применение
const multiply = (a, b) => a * b;
const double = multiply.bind(null, 2);
```

---

## Универсальная функция curry

```js
function curry(fn) {
  return function curried(...args) {
    if (args.length >= fn.length) {
      return fn(...args);
    }
    return (...next) => curried(...args, ...next);
  };
}
```

Использование:

```js
const sum = (a, b, c) => a + b + c;
const curriedSum = curry(sum);

curriedSum(1)(2)(3);
curriedSum(1, 2)(3);
```

---

## Где это реально применяется

- библиотеки функционального программирования (Ramda, lodash/fp)
- обработчики событий
- конфигурация функций
- middlewares

Во фреймворках напрямую используется редко,
но **понимание важно для собеседований**.

---

## Типовые ловушки

### Ловушка 1 — чрезмерное каррирование

```js
doSomething(a)(b)(c)(d);
```

Код становится нечитаемым.

---

### Ловушка 2 — путаница с this

Каррирование почти всегда используют с **чистыми функциями** без `this`.

---

## Как отвечать на собеседовании

1. Каррирование — разбиение функции на цепочку функций по 1 аргументу
2. Основано на замыканиях
3. Отличается от частичного применения
4. Используется в FP-библиотеках
5. Полезно, но не везде

---

## Вопросы для самопроверки

1. Что такое каррирование?
2. Чем отличается от partial application?
3. Почему работает через замыкания?
4. Где каррирование оправдано?
5. Когда лучше не использовать?

---

## Связанные темы

- Замыкания
- Функции высшего порядка
- Functional Programming
